# cate-desktop

## Overview

`cate-desktop` provides a desktop GUI for *Cate*, the ESA CCI Toolbox.


### Install dependencies

```
npm install
```

### Compile

```
npm run compile
```

### Unit-tests

```
npm run test:unit
```

### End-to-end tests

```
npm run test:e2e
```

### Start App
```
npm start
```

### Build installers

Installer executables:

```
npm run dist
```

Binary package:

```
npm run dist
```

## Project Tools

The following tools are used

* [mocha](https://mochajs.org/) unit-testing framework for Node.js.
* [chai](http://chaijs.com/api/bdd/) adds Behaviour Driven Development (BDD) API to `mocha`. 
* [spectron](https://github.com/electron/spectron#application-api) for end-to-end testing of the GUI applications. See script `test:e2e` in `package.json`. 

## Project Structure

### Source structure

    cate-desktop/
    ├── app/                     # Electrion application directory 
    │   ├── resources/           # Application resources: icons, images
    │   ├── main.js              # Called from Electron's main process, see ./package.json
    │   ├── renderer.js          # Called by Electron's renderer process, see ./index.html
    │   ├── index.html           # Loaded by Electron's main process
    │   └── package.json         # Electron application definition 
    ├── src/                     # TypeScript application module sources
    │   ├── main/                # Modules that run in Electron's main process
    │   │   └── **/*.ts 
    │   └── renderer/            # Modules that run in Electron's renderer process
    │       ├── **/*.ts
    │       └── **/*.tsx
    ├── e2e/                     # End-to-end tests
    │   └── **/*.js
    ├── .gitignore
    ├── .editorconfig            # see http://editorconfig.org/
    ├── tsconfig.json            # TS compiler configuration
    └── package.json             # Node package definition
  
### Build directories and files

    cate-desktop/
    ├── app/                     
    │   ├── main/                # JS sources generated by compile script
    │   │   └── **/*.js 
    │   └── renderer/            # JS sources generated by compile script
    │       └── **/*.js 
    └── dist/                    # Installer exes generated by dist & pack scripts

The setup of this project was inspired by 
* [electron-boilerplate](https://github.com/szwacz/electron-boilerplate) for the Electron part and by
* [Microsoft/TypeScriptSamples/jsx](https://github.com/Microsoft/TypeScriptSamples/tree/master/jsx) for the TypeScript + React part.

This project currently doesn't use any build tools apart from `npm` and `tsc`, the TypeScript compiler. 
We'll one day want to have hot loading into Electron and then use a tool such as `webpack`. The article 
[React & Webpack](http://www.typescriptlang.org/docs/handbook/react-&-webpack.html) describes how to use webpack + TypeScript + React.

Single configuration files explained:

* [.editorconfig](http://editorconfig.org/)
* [tsconfig.json](http://www.typescriptlang.org/docs/handbook/tsconfig-json.html) 
